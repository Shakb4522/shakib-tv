<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ShakibTV - Stream Your Favorite Movies</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">

    <!-- Mobile App Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ShakibTV">
    <meta name="theme-color" content="#e50914">

    <!-- Icons -->
    <link rel="apple-touch-icon" href="/icon-192.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/icon-192.png">

    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Roboto:wght@400;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <header class="header">
        <div class="logo-container">
            <button class="burger-btn" id="burgerBtn">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <div class="logo">ShakibTV</div>
        </div>
        <nav class="nav">
            <a href="#" class="nav-link active">Home</a>
            <a href="#" class="nav-link">TV Shows</a>
            <a href="#" class="nav-link">Movies</a>
            <a href="#" class="nav-link">My List</a>
        </nav>

        <!-- Mobile Side Menu -->
        <div class="mobile-nav-overlay" id="mobileNavOverlay"></div>
        <nav class="mobile-nav" id="mobileNav">
            <div class="mobile-nav-header">
                <div class="menu-title">Menu</div>
                <button class="close-menu-btn" id="closeMenuBtn">&times;</button>
            </div>
            <div class="mobile-nav-links">
                <a href="#" class="mobile-nav-link active">Home</a>
                <a href="#" class="mobile-nav-link">TV Shows</a>
                <a href="#" class="mobile-nav-link">Movies</a>
                <a href="#" class="mobile-nav-link">My List</a>
            </div>
        </nav>

        <div class="header-right">
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Titles, people, genres">
                <button id="searchBtn">üîç</button>
            </div>
            <div class="user-profile" id="userProfile">
                <span id="userName" style="display:none;"></span>
                <button id="loginBtn" class="login-btn">Sign In</button>
                <button id="logoutBtn" class="logout-btn" style="display:none;">Logout</button>
            </div>
        </div>
    </header>

    <!-- Login/Register Modal -->
    <div id="authModal" class="auth-modal" style="display:none;">
        <div class="auth-modal-content">
            <span class="close-auth-modal">&times;</span>
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">Sign In</button>
                <button class="auth-tab" data-tab="register">Sign Up</button>
            </div>
            <div id="loginForm" class="auth-form active">
                <h2>Sign In</h2>
                <input type="email" id="loginEmail" placeholder="Email" required>
                <input type="password" id="loginPassword" placeholder="Password" required>
                <button id="loginSubmitBtn" class="btn btn-play">Sign In</button>
                <div id="loginError" class="auth-error"></div>
            </div>
            <div id="registerForm" class="auth-form">
                <h2>Sign Up</h2>
                <input type="text" id="registerUsername" placeholder="Username" required>
                <input type="email" id="registerEmail" placeholder="Email" required>
                <input type="password" id="registerPassword" placeholder="Password" required>
                <button id="registerSubmitBtn" class="btn btn-play">Sign Up</button>
                <div id="registerError" class="auth-error"></div>
            </div>
        </div>
    </div>

    <main>
        <div id="hero" class="hero">
            <div id="heroBg" class="hero-bg"></div>
            <div class="hero-content">
                <h1 id="heroTitle"></h1>
                <p id="heroOverview"></p>
                <div class="hero-buttons">
                    <button class="btn btn-play" id="heroPlayBtn" type="button">‚ñ∂ Play</button>
                    <button class="btn btn-info" id="heroInfoBtn" type="button">‚ìò More Info</button>
                </div>
            </div>
        </div>

        <div id="genreSelector" class="genre-selector" style="display:none;">
            <!-- Genre chips will be injected here -->
        </div>

        <div id="continueWatchingRow" class="movie-row" style="display:none;">
            <h2>Continue Watching</h2>
            <div class="row-wrapper">
                <div class="movie-container" id="continueWatchingContainer"></div>
            </div>
        </div>

        <div id="continueWatchingRow" class="movie-row" style="display:none;">
            <h2>Continue Watching</h2>
            <div class="row-wrapper">
                <div class="movie-container" id="continueWatchingContainer"></div>
            </div>
        </div>

        <div id="rows-container">
            <!-- Rows will be injected here -->
        </div>

        <div id="genreResults" class="genre-results-container" style="display:none;">
            <div class="genre-results-header">
                <button id="backToRowsBtn" class="btn btn-info">‚Üê Back</button>
                <h2 id="genreTitle">Genre Name</h2>
            </div>
            <div id="genreGrid" class="movies-grid"></div>
            <div id="genrePagination" class="pagination"></div>
        </div>

        <div id="searchResults" class="search-results-container" style="display:none;">
            <h2>Search Results</h2>
            <div id="searchGrid" class="movies-grid"></div>
        </div>
    </main>

    <!-- Modal for Movie Details -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-hero" id="modalHero">
                <div class="modal-hero-overlay">
                    <h2 id="modalTitle"></h2>
                    <div class="modal-buttons">
                        <button class="btn btn-play" id="modalPlayBtn" type="button">‚ñ∂ Play</button>
                        <button class="btn btn-info" id="modalMyListBtn" type="button" style="display:none;">+ My List</button>
                        <button class="btn btn-info" id="modalRemoveListBtn" type="button" style="display:none;">‚úì In My List</button>
                    </div>
                    <div id="tvSelectors" class="tv-selectors" style="display:none;">
                        <div class="selector-group">
                            <label for="seasonSelect">Season</label>
                            <select id="seasonSelect"></select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-body">
                <div class="modal-info">
                    <div class="modal-meta">
                        <span id="modalDate"></span>
                        <span id="modalRuntime" class="runtime-badge"></span>
                        <span id="modalRating" class="rating-badge"></span>
                    </div>
                    <p id="modalOverview"></p>
                    <div class="modal-genres">
                        <strong>Genres:</strong> <span id="modalGenres"></span>
                    </div>
                </div>
                <div class="modal-trailer">
                    <h3>Trailer</h3>
                    <iframe id="trailerIframe" allowfullscreen></iframe>
                </div>
            </div>
            <div id="modalEpisodesList" class="modal-episodes-list"></div>
        </div>
    </div>

    <!-- Player Screen -->
    <div id="playerScreen" class="player-screen" style="display:none;">
        <div id="playerInteractionLayer" class="player-interaction-layer"></div>
        <div class="player-controls-overlay">
            <div class="player-controls-left">
                <button class="player-back-btn" id="playerBackBtn" type="button">
                    <svg viewBox="0 0 24 24">
                        <path fill="currentColor"
                            d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" />
                    </svg>
                    <span>Back to Browse</span>
                </button>
                <div class="player-movie-info">
                    <h1 id="playerMovieTitle">Movie Title</h1>
                    <p id="playerMovieMeta">Release Date ‚Ä¢ Rating</p>
                </div>
            </div>
            <div class="player-controls-right">
                <div id="playerEpisodeSwitcher" class="player-episode-switcher" style="display:none;">
                    <button id="playerEpisodesBtn" class="player-controls-btn">
                        <span>Episodes</span>
                    </button>
                    <div id="playerEpisodesList" class="player-episodes-list">
                        <!-- Episodes will be injected here -->
                    </div>
                </div>
                <button id="playerNextEpisodeBtn" class="player-controls-btn" style="display:none;">
                    <span>Next Episode</span>
                </button>
            </div>
        </div>
        <div id="upNextPrompt" class="up-next-prompt" style="display:none;">
            <div class="up-next-content">
                <span class="up-next-label">Up Next</span>
                <h3 id="upNextTitle">Episode Title</h3>
                <div class="up-next-actions">
                    <button id="playNextNowBtn" class="btn btn-play" type="button">‚ñ∂ Play Now</button>
                    <button id="dismissUpNextBtn" class="btn btn-info" type="button">Dismiss</button>
                </div>
                <div class="up-next-timer-bar">
                    <div id="upNextTimerProgress"></div>
                </div>
            </div>
        </div>
        <iframe id="playerIframe" allow="autoplay" allowfullscreen></iframe>
    </div>

    <script src="app.js"></script>
</body>

</html>